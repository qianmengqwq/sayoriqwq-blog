---
title: nextjs å®ç°i18n
description: i18n
date: 2024-7-30
published: true
tags: ['nextjs']
---

## i18n

æ¦‚å¿µ: å›½é™…åŒ–(Internationalization)ã€æœ¬åœ°åŒ–(localization)

å›½é™…åŒ–æ˜¯æœ¬åœ°åŒ–çš„ä¸€éƒ¨åˆ†ï¼Œæœ¬åœ°åŒ–è¿˜åŒ…æ‹¬é’ˆå¯¹æ€§çš„ç¿»è¯‘è°ƒæ•´/è¡¥ä¸

## åŸç†

æ€»çš„æ¥è¯´, åœ¨è€ƒè™‘ i18n çš„æ—¶å€™æœ‰ä¸‰æ­¥:

1. åˆ¤æ–­æ‰€åœ¨åŒºåŸŸ

è¯·æ±‚å¤´ä¸­`Accept-Language`å­—æ®µ

ä½¿ç”¨`negotiator`ã€`@formatjs/intl-localematcher`åº“

2. æ ‡è¯†å½“å‰è¯­è¨€

ä¸€èˆ¬ä½¿ç”¨è·¯ç”±ä¸­åŠ¨æ€å‚æ•°, å¦‚`/en`,`/zh`æ¥æ ‡è¯†, ä¹Ÿæœ‰ç”¨ `cookie` åšæ ‡è¯†çš„

3. é…ç½®ç›¸å…³å­—å…¸

ä½¿ç”¨ json åˆ†åˆ«å­˜å‚¨ key->å¯¹åº”è¯­è¨€çš„æ˜ å°„

<hr />

å®ç°çš„æ–¹å¼æ™®éé€šè¿‡`router middleware`, åŠ«æŒåŸæœ‰è·¯ç”±,å¢åŠ å¯¹ i18n çš„å¤„ç†,å¦‚è·å–åŒ¹é…çš„
locale,é‡å®šå‘ç­‰,æˆ–è€…è¯´äº§å“å¤§éƒ¨åˆ†ç”¨æˆ·éƒ½æ¥è‡ªåŒä¸€åœ°åŒº,ä¹Ÿå¯ä»¥æŠŠè·¯ç”±çš„å‚æ•°éšè—æ‰,æ€»ä¹‹åœ¨è¿™é‡Œå¤„ç†ç›¸å…³é€»è¾‘æ˜¯æ¯”è¾ƒå¥½çš„

## å®ç°æ–¹å¼

### æ‰‹å†™

å®˜ç½‘çš„ä¾‹å­ç®€å•å¯ç”¨

https://nextjs.org/docs/app/building-your-application/routing/internationalization

### åº“

æµè¡Œçš„æœ‰ react-i18next(ğŸŒŸ)å’Œ next-intl

æä¾› config ä¹‹å,åˆ©ç”¨åº“å¯¼å‡ºåˆ†åˆ«é€‚ç”¨ rsc å’Œ rcc çš„æ–¹æ³•

https://locize.com/blog/next-app-dir-i18n/
https://next-intl-docs.vercel.app/docs/getting-started/app-router

## ref

https://nextjs.org/docs/app/building-your-application/routing/internationalization
https://github.com/vercel/next.js/tree/canary/examples/app-dir-i18n-routing
https://locize.com/blog/next-app-dir-i18n/
https://github.com/i18next/next-app-dir-i18next-example-ts.git
